# =============================================================================
# ECR Rule Builder - FHIR Integration Configuration  
# On-Premises Deployment Environment Variables
# =============================================================================

# FHIR Integration Control
# Set to 'true' to enable FHIR live data integration, 'false' to disable
FHIR_INTEGRATION_ENABLED=false

# Default FHIR endpoint to use (must match one of the endpoint IDs below)
FHIR_DEFAULT_ENDPOINT=hapi-test

# Caching Configuration
FHIR_CACHE_ENABLED=true
FHIR_CACHE_TTL=60          # Cache time-to-live in minutes
FHIR_MAX_RETRIES=3
FHIR_REQUEST_TIMEOUT=30000 # Request timeout in milliseconds

# =============================================================================
# FHIR Endpoint Configurations
# Configure your organization's FHIR servers below (vendor-agnostic)
# =============================================================================

# Public Test Server (HAPI FHIR) - For development and testing
FHIR_HAPI_ENABLED=true
FHIR_HAPI_URL=https://hapi.fhir.org/baseR4

# =============================================================================
# CUSTOM FHIR ENDPOINTS - Configure Multiple EHR Systems
# Add as many endpoints as needed for your organization
# =============================================================================

# Example configurations for common EHR systems:
# Copy and modify these sections for your actual endpoints

# Production EHR System #1 (Primary)
FHIR_ENDPOINT_1_ENABLED=false
FHIR_ENDPOINT_1_NAME="Production EHR System"
FHIR_ENDPOINT_1_URL=
FHIR_ENDPOINT_1_AUTH=none      # Options: none, basic, bearer, oauth
FHIR_ENDPOINT_1_USERNAME=
FHIR_ENDPOINT_1_PASSWORD=
FHIR_ENDPOINT_1_TOKEN=
FHIR_ENDPOINT_1_CLIENT_ID=
FHIR_ENDPOINT_1_CLIENT_SECRET=
FHIR_ENDPOINT_1_DESCRIPTION="Main production FHIR endpoint"
# Examples by vendor:
# Epic: https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4
# Cerner: https://fhir-ehr-code.cerner.com/r4/your-tenant-id  
# Paragon: https://your-paragon-server.com/fhir/R4
# Sunrise: https://your-allscripts-server.com/fhir/R4
# eCW: https://your-ecw-server.com/fhir/R4
# athenahealth: https://api.athenahealth.com/fhir/r4
# NextGen: https://your-nextgen-server.com/fhir/R4

# Staging/Test EHR System #2 
FHIR_ENDPOINT_2_ENABLED=false
FHIR_ENDPOINT_2_NAME="Staging EHR System"
FHIR_ENDPOINT_2_URL=
FHIR_ENDPOINT_2_AUTH=none
FHIR_ENDPOINT_2_USERNAME=
FHIR_ENDPOINT_2_PASSWORD=  
FHIR_ENDPOINT_2_TOKEN=
FHIR_ENDPOINT_2_CLIENT_ID=
FHIR_ENDPOINT_2_CLIENT_SECRET=
FHIR_ENDPOINT_2_DESCRIPTION="Staging environment for testing"

# Additional EHR System #3 (if multi-vendor environment)
FHIR_ENDPOINT_3_ENABLED=false
FHIR_ENDPOINT_3_NAME="Secondary EHR System"
FHIR_ENDPOINT_3_URL=
FHIR_ENDPOINT_3_AUTH=none
FHIR_ENDPOINT_3_USERNAME=
FHIR_ENDPOINT_3_PASSWORD=
FHIR_ENDPOINT_3_TOKEN=
FHIR_ENDPOINT_3_CLIENT_ID=
FHIR_ENDPOINT_3_CLIENT_SECRET=
FHIR_ENDPOINT_3_DESCRIPTION="Secondary EHR for specialty clinics"

# EHR System #4 (expand as needed)
FHIR_ENDPOINT_4_ENABLED=false
FHIR_ENDPOINT_4_NAME="Emergency Department EHR"
FHIR_ENDPOINT_4_URL=
FHIR_ENDPOINT_4_AUTH=none
FHIR_ENDPOINT_4_USERNAME=
FHIR_ENDPOINT_4_PASSWORD=
FHIR_ENDPOINT_4_TOKEN=
FHIR_ENDPOINT_4_CLIENT_ID=
FHIR_ENDPOINT_4_CLIENT_SECRET=
FHIR_ENDPOINT_4_DESCRIPTION="ED-specific FHIR endpoint"

# Add more endpoints as needed following the same pattern:
# FHIR_ENDPOINT_5_*, FHIR_ENDPOINT_6_*, etc.

# =============================================================================
# Database Configuration (Required)
# =============================================================================
DATABASE_URL="postgresql://username:password@localhost:5432/ecr_rule_builder"

# =============================================================================
# Authentication Configuration (Required)
# =============================================================================
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secure-nextauth-secret-min-32-chars"

# =============================================================================
# Optional: Additional Security Headers
# =============================================================================
# FHIR_ADDITIONAL_HEADERS='{"X-Custom-Header": "value", "X-API-Key": "your-api-key"}'

# =============================================================================
# Development/Production Mode
# =============================================================================
NODE_ENV=production        # Set to 'development' for dev mode
LOG_LEVEL=info            # Options: debug, info, warn, error

# =============================================================================
# Customer-Specific Settings
# =============================================================================
# CUSTOMER_NAME="Your Healthcare Organization"
# DEPLOYMENT_ID="prod-instance-01"
# SUPPORT_EMAIL="support@yourdomain.com"

# =============================================================================
# EHR VENDOR DEPLOYMENT EXAMPLES
# Common FHIR endpoint patterns for major EHR systems
# =============================================================================

# EXAMPLE 1: Epic (Epic Systems)
# Uncomment and configure for Epic deployments:
# FHIR_ENDPOINT_1_ENABLED=true
# FHIR_ENDPOINT_1_NAME="Epic Production"
# FHIR_ENDPOINT_1_URL=https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4
# FHIR_ENDPOINT_1_AUTH=oauth
# FHIR_ENDPOINT_1_CLIENT_ID=your-epic-client-id
# FHIR_ENDPOINT_1_CLIENT_SECRET=your-epic-client-secret
# FHIR_ENDPOINT_1_DESCRIPTION="Epic EHR production environment"

# EXAMPLE 2: Cerner/Oracle Health
# FHIR_ENDPOINT_2_ENABLED=true
# FHIR_ENDPOINT_2_NAME="Cerner Production"
# FHIR_ENDPOINT_2_URL=https://fhir-ehr-code.cerner.com/r4/your-tenant-id
# FHIR_ENDPOINT_2_AUTH=oauth
# FHIR_ENDPOINT_2_CLIENT_ID=your-cerner-client-id
# FHIR_ENDPOINT_2_CLIENT_SECRET=your-cerner-client-secret
# FHIR_ENDPOINT_2_DESCRIPTION="Cerner/Oracle Health production"

# EXAMPLE 3: Paragon (McKesson)
# FHIR_ENDPOINT_3_ENABLED=true
# FHIR_ENDPOINT_3_NAME="Paragon Production"
# FHIR_ENDPOINT_3_URL=https://your-paragon-server.com/fhir/R4
# FHIR_ENDPOINT_3_AUTH=basic
# FHIR_ENDPOINT_3_USERNAME=fhir-service-account
# FHIR_ENDPOINT_3_PASSWORD=secure-password
# FHIR_ENDPOINT_3_DESCRIPTION="McKesson Paragon EHR"

# EXAMPLE 4: eClinicalWorks (eCW)
# FHIR_ENDPOINT_4_ENABLED=true
# FHIR_ENDPOINT_4_NAME="eClinicalWorks"
# FHIR_ENDPOINT_4_URL=https://your-ecw-server.com/fhir/R4
# FHIR_ENDPOINT_4_AUTH=bearer
# FHIR_ENDPOINT_4_TOKEN=your-ecw-api-token
# FHIR_ENDPOINT_4_DESCRIPTION="eClinicalWorks EHR system"

# EXAMPLE 5: athenahealth
# FHIR_ENDPOINT_5_ENABLED=true
# FHIR_ENDPOINT_5_NAME="athenahealth"
# FHIR_ENDPOINT_5_URL=https://api.athenahealth.com/fhir/r4
# FHIR_ENDPOINT_5_AUTH=oauth
# FHIR_ENDPOINT_5_CLIENT_ID=your-athena-client-id
# FHIR_ENDPOINT_5_CLIENT_SECRET=your-athena-client-secret
# FHIR_ENDPOINT_5_DESCRIPTION="athenahealth cloud platform"

# EXAMPLE 6: NextGen Healthcare
# FHIR_ENDPOINT_6_ENABLED=true
# FHIR_ENDPOINT_6_NAME="NextGen"
# FHIR_ENDPOINT_6_URL=https://your-nextgen-server.com/fhir/R4
# FHIR_ENDPOINT_6_AUTH=basic
# FHIR_ENDPOINT_6_USERNAME=nextgen-fhir-user
# FHIR_ENDPOINT_6_PASSWORD=nextgen-password
# FHIR_ENDPOINT_6_DESCRIPTION="NextGen Healthcare EHR"

# NOTE: Adjust URLs, authentication methods, and credentials based on your
#       specific EHR vendor configuration and deployment environment.