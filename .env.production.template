# ECR Rule Builder - Production Environment Configuration Template
# Copy this file to .env.production and configure for your deployment

# =============================================================================
# LIVE FHIR INTEGRATION CONFIGURATION (Optional Plugin)
# =============================================================================
# Set to 'true' to enable Live FHIR testing capabilities
# When disabled, removes the Live FHIR tab and related functionality
NEXT_PUBLIC_ENABLE_LIVE_FHIR=false

# Default FHIR endpoint for testing (public HAPI test server)
# Change to your on-premises FHIR server
NEXT_PUBLIC_DEFAULT_FHIR_BASE_URL=https://hapi.fhir.org/baseR4

# FHIR Server Authentication (if required by your server)
FHIR_AUTH_TYPE=none  # Options: none, bearer, basic, oauth
FHIR_AUTH_TOKEN=     # Bearer token if using bearer auth
FHIR_AUTH_USERNAME=  # Username if using basic auth
FHIR_AUTH_PASSWORD=  # Password if using basic auth

# OAuth Configuration (if using OAuth)
FHIR_OAUTH_CLIENT_ID=
FHIR_OAUTH_CLIENT_SECRET=
FHIR_OAUTH_TOKEN_URL=
FHIR_OAUTH_SCOPES=

# =============================================================================
# CUSTOMER FHIR ENDPOINTS CONFIGURATION
# =============================================================================
# Configure multiple FHIR endpoints for testing
# Format: JSON array of endpoint configurations

NEXT_PUBLIC_CUSTOM_FHIR_ENDPOINTS='[
  {
    "id": "production",
    "name": "Production FHIR Server",
    "baseUrl": "https://your-fhir-server.com/fhir/R4",
    "description": "Primary production FHIR endpoint",
    "timeout": 10000,
    "maxPatients": 50
  },
  {
    "id": "staging",
    "name": "Staging FHIR Server", 
    "baseUrl": "https://staging-fhir-server.com/fhir/R4",
    "description": "Staging environment for testing",
    "timeout": 15000,
    "maxPatients": 100
  }
]'

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string for rule storage
DATABASE_URL="postgresql://username:password@localhost:5432/ecr_rules"

# =============================================================================
# APPLICATION SECURITY
# =============================================================================
# NextAuth secret for session management
NEXTAUTH_SECRET=your-super-secret-key-change-this-in-production
NEXTAUTH_URL=https://your-domain.com

# =============================================================================
# PERFORMANCE & MONITORING
# =============================================================================
# Enable performance monitoring
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# FHIR API request timeout in milliseconds
FHIR_REQUEST_TIMEOUT=30000

# Max number of patients to test rules against
FHIR_MAX_TEST_PATIENTS=100

# Enable FHIR response caching (improves performance)
ENABLE_FHIR_CACHE=true
FHIR_CACHE_TTL=300  # Cache TTL in seconds

# =============================================================================
# TROUBLESHOOTING
# =============================================================================
# Enable debug logging for FHIR operations
DEBUG_FHIR_OPERATIONS=false

# Enable verbose API logging
DEBUG_API_CALLS=false

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
# 1. Copy this file to .env.production
# 2. Update DATABASE_URL with your PostgreSQL credentials
# 3. Set NEXTAUTH_SECRET to a strong random value
# 4. Configure FHIR endpoints for your organization
# 5. Set NEXT_PUBLIC_ENABLE_LIVE_FHIR=true to enable Live FHIR features
# 6. Test FHIR connectivity before deploying to users
# 
# For more information, see documentation at:
# https://github.com/your-org/ecr-rule-builder/docs/deployment.md